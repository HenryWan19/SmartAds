"use strict";!function(win){function HotelsAppWorker(){var $this=this,_onload=$this._onload=win.onload;Wix=win.Wix,Worker=Wix&&Wix.Worker,Utils=Worker&&Worker.Utils,win.onload=function(){_onload&&_onload.call(win),$this.run()},$this.run()}function HotelsAppWorker$sdkReady(){return!!(Worker&&Worker.getSiteInfo&&Utils&&Utils.navigateToSection)}function HotelsAppWorker$clearOnload(){var _onload=this._onload;win.onload=null,_onload&&(win.onload=_onload)}function HotelsAppWorker$run(){var $this=this;$this.sdkReady()&&($this.clearOnload(),Worker.getSiteInfo(function(info){$this.parseQuery(info.url),"tripadvisor"!==$this.params.source||$this.prevent||Utils.navigateToSection("?"+$this.joinQuery(["source"]))}))}function HotelsAppWorker$parseQuery(url){var match=url.match(/(^.+?)(?:\?([^#!|#]+)|#|#!|$)/i),base=match[1],rest=match[2],re=/(?:^|&)(.+?)=([^&]+)/gi,params={},fuse=1e3;if(rest)for(;fuse-- >0&&(match=re.exec(rest));)params[match[1]]=decodeURIComponent(match[2]);this.url=url,this.base=base,this.params=params,this.prevent=/#.+\/complete\/.+$/i.test(url)}function HotelsAppWorker$joinQuery(exclude){var p,params=this.params,result=[],excl=exclude?"|"+exclude.join("|")+"|":"";for(p in params)excl.indexOf("|"+p+"|")===-1&&result.push(p+"="+encodeURIComponent(params[p]));return result.join("&")}function flush(){_instance&&(HotelsAppWorker$clearOnload.call(_instance),_instance=null)}function create(){return _instance||(_instance=new HotelsAppWorker),_instance}var Wix,Worker,Utils,proto,_instance;win.HotelsAppWorker||(HotelsAppWorker.create=create,HotelsAppWorker.flush=flush,proto=HotelsAppWorker.prototype,proto.sdkReady=HotelsAppWorker$sdkReady,proto.clearOnload=HotelsAppWorker$clearOnload,proto.run=HotelsAppWorker$run,proto.parseQuery=HotelsAppWorker$parseQuery,proto.joinQuery=HotelsAppWorker$joinQuery,win.HotelsAppWorker=HotelsAppWorker,HotelsAppWorker.create())}(window);